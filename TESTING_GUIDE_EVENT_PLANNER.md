# Testing Guide: Event Planner (AI-Powered Module)

This guide provides step-by-step instructions to verify the "Event Planner" module, which includes AI-driven concept building, budget forecasting, pricing strategies, and risk assessment.

---

## 1. Prerequisites & Preparation
1.  **Access Level**: You must be logged in as a **Super Admin**.
2.  **Environment**: Ensure your AI service (Gemini/OpenAI) is configured in your `.env` file.
3.  **Linked Data**: Have at least one existing **Event** record if you plan to test the "Apply to Event" features.

---

## 2. Navigation
- Go to the Admin Panel.
- In the sidebar, locate the **Event Management** group.
- Click on **Event Planner**.

---

## 3. Test Cases

### TC-01: Creating an Event Plan
1.  Click the **Create Event Plan** button.
2.  Fill in the basic details:
    - **Title**: e.g., "Summer Jazz Festival 2026"
    - **Event Category**: e.g., "Music / Jazz"
    - **Target Audience Size**: e.g., `5000`
    - **Target Audience Description**: High-end jazz enthusiasts, aged 25-60.
    - **Budget Target**: e.g., `500,000,000`
    - **Revenue Target**: e.g., `750,000,000`
3.  Click **Create**.
4.  **Verification**: Ensure the record is saved and you are redirected to the **Edit** page.

### TC-02: AI Concept Builder (RichEditor Verification)
1.  On the Edit page, click the **AI Actions** group (sparkles icon) and select **AI Concept Builder**.
2.  Review the modal. You should see your initial inputs (read-only).
3.  Click the action button to generate the concept.
4.  **Verification**: 
    - The `AI Concept Result` field should now be a **RichEditor** (not a plain textarea).
    - It should display a formatted description generated by AI.
5.  Click **Apply to Event** (from the AI Concept Builder group).
6.  **Verification**: Go to the linked Event and check its **Description**. It should match the AI-generated concept.

### TC-03: AI Budget Forecaster
1.  Click the **Budget Forecast** group (calculator icon) and select **AI Budget Forecast**.
2.  Wait for the AI to process.
3.  **Verification**: A success notification should appear.
4.  Click **Apply Forecast to Line Items**.
5.  **Verification**: Scroll down to the **Relation Manager** section (Line Items). You should see categories like Venue, Talent, Security, etc., populated with estimated amounts.

### TC-04: AI Pricing Strategy
1.  Click the **Pricing Strategy** group (banknotes icon) and select **AI Pricing Strategy**.
2.  **Verification**: A success notification should appear.
3.  Click **Apply Pricing to Event Tickets**.
4.  **Verification**: Navigate to the linked Event's **Tickets** section. New ticket types (e.g., Early Bird, General Admission, VIP) should have been created with the suggested prices and quantities.

### TC-05: AI Risk Assessment
1.  Click the **AI Risk Assessment** button (shield icon).
2.  **Verification**: A success notification should appear, and the Risk Assessment result/score should be visible on the planning record (if implemented in the UI).

### TC-06: Planning vs Realization Analytics
1.  Click the **View** button (eye icon) on any Event Plan that has:
    - AI Budget & Pricing generated.
    - Linked Event with actual paid orders/tickets.
2.  Scroll to the bottom of the page (**Footer Widgets**).
3.  **Verification**:
    - **Planning vs Realization Widget**: Should show side-by-side comparison of planned expenses/revenue vs actuals.
    - **Revenue Comparison Chart**: Should display a visual chart of the data.
    - **Expense By Category**: Should show a breakdown of how the budget is distributed.

---

## 4. Troubleshooting
- **AI Generation Fails**: Check logs or ensure your API key has remaining quota.
- **Button Missing**: Ensure the `Event Plan` is correctly linked to an `Event` record; some "Apply" actions only appear when a link exists.
- **Permission Denied**: Verify you are logged in as a Super Admin.
